<meta http-equiv="CONTENT-TYPE" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

<center>
    <title>Mistelenchi</title>
    <canvas onclick="clickCanvas()" id="Canva"></canvas><br>
    <button onclick="pickColor(style)" style="color:white" id="_0"></button><button onclick="pickColor(style)" style="color:red"></button><button onclick="pickColor(style)" style="color:gold"></button><button onclick="pickColor(style)" style="color:blue"></button><button onclick="pickColor(style)" style="color:black" id="_1"></button>
    <nobreak><table cellspacing="1" cellpadding="1"><tr><td><button onclick="pickColor(style,0)" style="color:Red"></button></td><td><button onclick="pickColor(style,0)" style="color:Gold"></button></td><td><button onclick="pickColor(style,0)" style="color:Blue"></button></td></tr><tr><td><button onclick="pickColor(style,0)" style="color:Green"></button></td><td><button onclick="pickColor(style,0)" style="color:Purple"></button></td><td><button onclick="pickColor(style,0)" style="color:Orange"></button></td></tr><tr><td><button onclick="pickColor(style,0)" style="color:#bfbfbf"></button></td><td><button onclick="pickColor(style,0)" style="color:#7f7f7f"></button></td><td><button onclick="pickColor(style,0)" style="color:#3f3f3f"></button></td></tr></table><h1 id="Qnumber" style="width: 7em; height: 3em; font-family: monospace;" onclick="dia_log.showModal(_Stage.value = Stage_,_Length.innerText = Length_,_Set.innerText = Set_)"></h1></nobreak>
    <button onclick="Save()" class="action">Save</button>
    <button onclick="innerText = (window.isTest = !window.isTest) ? `Edit` : `Test`" class="action">Test</button>
</center>

<script src="Editor.js"></script>

<style>
    button:not(.action) {
        margin: 5px;
        margin-top: 12px;
        padding: 25px;
        border: 5px solid;
        border-radius: 300px;
        background-color: #7f7f7f7f;
    }
    td button {
        margin: 0px !important;
        padding: 15px !important;
        border: 3px solid !important;
    }
    dialog button:not(.action) {
        margin: 0px;
        padding: 0px;
        width: 3em;
        height: 3em;
    }
    b {
        display: block;
        height: 1em;
        line-height: 1em;
        width: 3em;
    }
    nobreak {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .action {
        margin: 3px;
        font-size: 3em;
        font-family: monospace;
    }
    canvas {
        border: 5px solid;
        width: 100%;
        margin: -5px;
        background: #999;
        border-color: #999;
    }
    html {
        background: #ccc
    }
    @media (prefers-color-scheme: dark) {
        html {
            background: #333
        }
        canvas {
            background: #666;
            border-color: #666;
        }
        #Qnumber {
            color: Ivory;
        }
    }
</style>

<dialog id="dia_log">
    <center>
        <h2>Title</h2><input id="_Stage" style="text-align:center" maxlength="14">
        <h2>Size</h2><nobreak><button onclick="if (_Length.innerText>3) _Length.innerText--">－</button><b id="_Length"></b><button onclick="if (_Length.innerText<15) _Length.innerText++">＋</button></nobreak>
        <h2>Set</h2><nobreak><button onclick="if (_Set.innerText>1) _Set.innerText--">－</button><b id="_Set"></b><button onclick="if (_Set.innerText<5) _Set.innerText++">＋</button></nobreak>
        <br><button onclick="dia_log.close()" class="action">Cancel</button><button onclick="if (_Set.innerText*3 <= _Length.innerText) dia_log.close(loadMap(_Stage.value,_Set.innerText,_Length.innerText))" class="action">Create</button>
    </center>
</dialog>
